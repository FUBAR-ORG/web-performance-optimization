# 1장. 웹 성능이란 무엇인가

## 1.1 웹

- 웹은 오늘날 전 세계 사람들이 인터넷에 연결된 컴퓨터를 통해 수많은 정보를 공유할 수 있는 인터넷의 대표적 서비스이다.
- 웹은 인터넷이 제공하는 수많은 서비스 중 하나일 뿐이다.

### 1.1.1 웹의 역사

- 브라우저를 일종의 데이터베이스로 사용해 필요한 정보를 조회하고 전달할 수 있는 방법을 고안했다.
- 웹은 하이퍼텍스트를 바탕으로 관련 있는 문서끼리 연결한 문서의 집합체라고 정의할 수 있다.
- 멀티미디어 기술이 더욱 발전하고 보편화되면서 음성, 영상, VR, AR같은 콘텐츠를 생산,전달, 소비할 때도 웹을 사용한다.

### 1.1.2 웹의 대표적 요소

웹을 구성하는 3가지 주요 요소는 URL, 네트워크 프로토콜, HTML이다.

- URL: 웹 자원이 인터넷상 어느 위치에 존재하는지 알려주는 방법
- 네트워크 프로토콜: 어떤식으로 데이터를 주고받을 지
- HTML: 웹 페이지에 실제로 나타낼 데이터를 정의하고 페이지 문서의 제목, 단락, 목록과 같은 구조를 표현

## 1.2 웹 성능이 중요한 이유

- 웹 성능이라는 용어는 콘텐츠가 신속하게 전달되어 사용자가 원하는 서비스를 빠르게 전달받을 수 있도록 하는 시스템들의 성능을 의미한다.
- 3초안에 로딩되지 않으면 53%의 사용자가 떠나고 이탈률이 늘어난다고 한다.
- 이를 3초의 법칙이라고 하는데 이 법칙은 다음과 같은 요소가 필요하다.
  - 웹 사이트의 로딩이 빨라야 한다.
  - 웹 사이트의 머리말이 주목받을 수 있어야 한다.
  - 웹 페이지 글이 눈에 띄어야 한다.
  - 웹 페이지 내 사용자 행동이 필요한 부분은 명확히 전달해야 한다.

## 1.3 웹 성능 측정 방법

웹 성능에 영향을 주는 요소는 `사용자 환경`, `공급자 환경`, `전달 환경` 세 가지가 있다.

- 사용자 환경: 거주지역, 어떠한 네트워크 장비 또는 브라우저 환경
- 웹 사이트 공급자: DNS 네임 서버 응답 속도, 서버 응답 속도, 백엔드 처리 속도, 프론트엔드 최적화 여부가 로딩시간에 영향을 줌
- 전달 환경: 서버가 위치한 데이터 센터가 자체 전용선을 보유했는지, 유선망과 모바일망에 각각의 서버를 배포했는지

웹 성능을 측정할 수 있는 대표적인 서비스들은 `크롬 브라우저의 개발자 도구`, `WebPageTest 서비스`, `구글 PageSpeed`가 있다.

## 1.4 웹 성능을 만드는 지표

스티브 사우더스는 14가지 웹 성능 최적화 기법을 백엔드, 프론트엔드, 네트워크 기술로 나누었다.

- 프론트엔드: 빠르고 보기 쉽게 콘첸츠를 전달하는것.
- 백엔드: 서버처리량이나 네트워크 스위치 처리량, 처리속도에 문제가 없는지 등을 확인해야 한다.
- 전달환경- 네트워크: 대역폭과 지연시간을 측정한다.

## 1.5 웹 성능과 프론트엔드

프론트엔드가 로딩 시간의 대부분을 차지하는 이유는 다음과 같다.

- 웹 서버가 아닌 브라우저 관점에서 콘텐츠를 전달 받았는지가 웹 성능의 기준이기 때문이다.
- 사용자가 웹 서비스와 상호 작용해 원하는 콘텐츠를 가져다 렌더링 하는데 시간이 더 소요된다.

### 1.5.1 브라우저 렌더링

PageSpeed의 렌더링 단계별 지표는 다음과 같다.

- FCP(First Contentful Paint): 첫 번째 텍스트 또는 이미시가 표시되는 데 걸린 시간이다.
- SI(Speed Index): 페이지 컨텐츠가 얼마나 빨리 표시되는지에 대한 정보다.
- LCP(Largest Contentful Paint): 가장 큰 텍스트 또는 이미지가 표시된 시간이다.
- TTI(Time to Interactive): 사용자와 페이지가 상호작용할 수 있게 된 시간이다.
- TBT(Total Blocking Time): FCP와 TTI사이 모든 시간의 합이다.
- CLS(Cumulative Layout Shift): 표시영역 안에 보이는 요소들이 얼마나 이동하는지에 대한 정보다.

## 1.6 웹 성능 예산

- 웹 성능 예산이란 웹 성능에 영향을 미치는 다양한 요소를 제어하는 한곗값을 의미한다.
- 3가지로 분류할 수 있다.
  - 정량 기반 지표(파일 크기): 폰트 파일 개수, 스크립트 개수 등 필요한 요소들에 대한 한곗값이다.
  - 시간 기반 지표(전체 로딩 시간): FCP, TTI 등 웹 성능 이벤트 값을 측정해 목표치를 설정한다.
  - 규칙 기반 지표(성능 점수): 웹 성능 지표 평가 점수 목표치를 설정한다.

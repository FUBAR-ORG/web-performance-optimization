## 웹 요소

-   URL: 웹의 위치
-   프로토콜: 데이터를 주고 받는 형식
-   도메인: 서비스 이름
-   디렉터리: 해당 자원의 위치
-   자원: 파일 확장자를 포함한 내용

#

## 성공적인 웹 사이트

-   로딩이 빨라야 한다.(웹 성능)
-   머리말이 주목받을 수 있어야 한다.
-   글이 눈에 띄어야 한다.
-   사용자의 행동이 필요한 부분은 명확히 전달해야 한다.

#

## 웹 성능 영향

-   사용자 입장: 네트워크 장비(wifi), 브라우저
-   공급자 입장: DNS 응답 속도, 웹 서버 응답 속도, 백엔드 처리 속도, 프런트엔드 최적화 여부
-   전달 환경: 전용선 유무, 유선망과 모바일망 각각 서버 배포 여부

#

## 성능 측정 도구

-   크롬 브라우저의 개발자 도구
-   WebPageTest 서비스
-   구글 PageSpeed

#

## 최적화 항목

-   스티브 사우더스

| 최적화     | 내용                                                                                                                                                                                                                                      |
| ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 백엔드     | 1. Expires 헤더를 추가한다.<br/>2. gzip으로 압축한다.<br/>3. 페이지 재전송을 피한다.<br/>4. ETag를 설정한다.<br/> 5. 캐시를 지원하는 AJAX를 만든다.                                                                                       |
| 프런트엔드 | 1. HTTP 요청을 줄인다.<br/>2. 스타일 시트는 상단에 넣는다.<br/>3. 스크립트는 하단에 넣는다.<br/>4. CSS 표현식은 피한다.<br/>5. 자바스크립트와 CSS는 외부 파일에 넣는다.<br/>6. 자바스크립트는 작게 한다.<br/>7. 중복 스크립트는 제거한다. |
| 네트워크   | 1. 콘텐츠 전송 네트워크(CDN)를 사용한다. <br/> 2. DNS 조회를 줄인다.                                                                                                                                                                      |

-   YSlow 2.0에 추가된 내용

    1. AJAX는 캐시가 가능하도록 만든다.
    2. GET 메소드로 XHR(XMLHttpRequest)을 사용한다.
    3. DOM 개체 수를 줄인다.
    4. 404 Not Found를 없앤다.
    5. 쿠키 크기를 줄인다.
    6. 쿠키와 상관없는 정적 콘텐츠를 만든다.
    7. AlphaImageLoader를 사용하지 않는다.

        AlphaImageLoader은 IE7미만 png이미지의 반투명을 위한 filter이다.<br/>
        이미지를 받는동안 브라우저를 멈추게 하고<br/>
        엘리먼트마다 적용되어 같은 이미지도 여러 번 메모리를 소비한다.

        필요하다면 IE7 이상은 적용되지 않게 언더바 css hack을 사용한다.
        \_filter:AlphaImageLoader를 사용한다.

        [AlphaImageLoader] https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=knight50&logNo=80100426526

    8. HTML에 이미지 크기를 설정하지 않는다.
    9. 파비콘은 작게, 캐시할 수 있도록 만든다.

#

## 전달환경 - 네트워크

-   장소와 시간에 따라 변하기 때문에 성능 측정이 어렵다.
-   측정 요소는 대역폭(일정 시간당 처리 트래픽 양)과 지연시간이다.

#

## 브라우저 렌더링 성능 지표

-   FCP(First Contentful Paint): 첫 번째 컨텐츠가 표시되는데 걸린 시간
-   SI(Speed Index): 페이지 컨텐츠가 표시되는 시간
-   LCP(Largest Contentful Paint): 가장 큰 컨텐츠가 표시되는데 걸린 시간
-   TTI(Time To Interactive): 사용자와 페이지가 상호 작용할 수 있게 된 시간
-   TBT(Total Block Time): FCP와 TTI 사이 모든 시간, 50ms 초과시 밀리초 단위로 표시
-   CLS(Cumulative Layout Shift): 표시 영역 안에 보이는 요소들의 이동 정보

#

## 성능 예산

-   정량 기반
    -   이미지 파일의 최대 크기
    -   최대 웹 폰트 파일 개수
    -   자바스크립트 파일 크기 합
    -   타사 스크립트 개수 합
-   시간 기반
    -   FCP
    -   TTI
-   규칙 기반
    -   WebPageTest 성능 점수
    -   구글 Lighthouse 성능 점수

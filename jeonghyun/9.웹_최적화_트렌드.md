## PWA(Progressive Web Application)

    네이티브 앱과 모바일 웹의 장점을 모두 갖춘 특정 기술과 표준 패턴을 사용해 개발한 웹 앱

### 네이티브 앱 장점

-   인터넷 없이 작동
-   매끄러운 사용자 경험
-   백그라운드 푸시 알림
-   기기 고유 기능 사용

### 모바일 웹 장점

-   URL만으로 접근

### PWA 특징

-   모든 형태의 화면에 반응
-   네트워크와 독립적
-   앱과 같은 상호 작용 기능
-   항상 최신 내용 업데이트
-   모든 연결의 보안상 안전
-   쉬운 사용자 접근
-   재참여(새로운 컨텐츠 확인 등)
-   설치 가능(아이콘 접속)
-   쉬운 연결(모바일 웹 처럼)

### PWA 주요 기술

-   PWA 애플리케이션 아키텍처
    -   셸: 처음 동작하는 데 필요한 모든 정적 파일(HTML, CSS, JS)
    -   컨텐츠: 변경될 수 있는 데이터(일반적으로 API를 통한 노출, 조회)
        -   컨텐츠를 캐시해서 이탈 방지(첫 페이지가 로딩되지 않으면 이탈함)
        -   애니메이션, 스피닝 활용
    -   오프라인 로딩(서비스 워커) - 최초 로딩 시 서비스 워커를 포함한 리소스를 다운로드
-   매니패스트: 앱의 정보를 담고 있는 JSON
    -   홈 아이콘, 첫 페이지, 페이지 표시 방향 등
-   서비스 워커: 오프라인 PWA 구동 기술
    -   브라우저와 독립적으로 백그라운드에서 실행, 비동기적 처리
    -   네트워크 관련 요청, 리소스 캐싱, 푸시
    -   백그라운드 동기화: 네트워크 문제로 정상 전달되지 못했을 때 로컬 저장소에 저장해두고 네트워크가 원활해지면 전송을 완료하는 기능
    -   DOM에 직접 엑세스할 수는 없고 postMessage를 통해 비동기적으로 조작 가능
    -   등록 단계: 최초 방문 시 서비스 워커를 다운로드하고 브라우저에 등록
    -   설치 단계: 캐시 생성, 필요한 파일 캐시에 저장
    -   활성화 단계: 캐시 제공 또는 네트워크 프록시 역할 수행

## AMP

    성능 최적화가 된 웹 컴포넌트 제공

### 특징

-   컨텐츠 렌더링을 방해하지 않음
-   레이아웃을 미리 결정하여 리플로우 방지
-   경량화된 CSS를 HTML 내부에 작성, 렌더링 빠르게 시작
-   웹 폰트 최적화
-   스타일과 화면 재배치를 최소화
-   GPU 가속으로 CPU 사용 효율화
-   중요한 리소스부터 로딩

### 구성요소

-   AMP Websites
-   AMP Stories: 특정 주제와 관련된 텍스트, 이미지, 애니메이션 등 페이지로 구성
-   AMP Ads: 사이트 성능에 영향이 없는 광고
-   AMP Email

#### AMP HTML

    AMP 모듈은 AMP HTML 명세에 의해 만들어짐

-   <!doctype html>로 시작한다.
-   <html amp>로 최상위 태그를 사용한다.
-   <head>, <body>가 있어야 한다,
-   AMP로 변환하기 전 <link rel="canonical" href="$URL">를 사용해 서로의 페이지를 링크한다.
-   <meta charset="utf-8"> 첫 번째 태그로 사용한다.
-   <head> 내에 <meta name="viewport" content="width=device-width"> 태그로 뷰포트 정보를 명시한다.
-   <head> 내에 <script async src="http://cdn.ampproject.org/v0.js"> 태그를 포함한다.

#### 컴포넌트

    AMP HTML에서 사용되는 맞춤 태그

-   외부 리소스 다운로드를 제어하여 렌더링 가속
-   표준 HTML 이상의 기능을 제공

#### AMP cache

    검증된 AMP 문서를 사용자에게 빠르게 제공하기 위한 CDN 서비스

#

### 웹 최적화의 과제

-   자신의 웹 사이트의 정확한 성능을 알아야 한다.
    -   사용자의 성능 정보 수집, 분석
    -   로딩 속도 및 지연 원인 파악
    -   WebPageTest, PageSpeed
-   자바스크립트 최소화
    -   웹 사이트에 필요한 전체 기능 개수를 줄인다.
    -   가능한 많은 기능을 서버 측에 전가한다.
    -   각 페이지별로 꼭 필요한 자바스크립트만 포함시킨다.
    -   네이티브 코드를 활용한다.
-   맞춤 최적화 수행
    -   사용자 기기 정보를 서버측에 제공

# 1장 웹 성능이란 무엇인가

## 1.1 웹

**웹 !== 인터넷**

- 인터넷에 연결된 컴퓨터를 통해 수많은 정보를 공유할 수 있는 인터넷의 대표적 서비스다.
- 웹은 인터넷이 제공하는 서비스 중 하나다.

### 1.1.1 웹의 역사

- 처음 웹은 물리학자들 간 공동으로 연구를 진행하고 결과를 빠르게 공유하기 위해 개발되었다.
- 웹은 하이퍼텍스트를 바탕으로 관련 있는 문서끼리 연결한 문서의 집합체라고 정의할 수 있다.

### 1.1.2 웹의 대표적 요소

- 웹을 구성하는 3가지 주요 요소는 URL, 네트워크 프로토콜, HTML이다.

<br>

## 1.2 웹 성능이 중요한 이유

- 웹 성능이란 콘텐츠가 신속하게 전달되어 사용자가 원하는 서비스를 빠르게 전달받을 수 있도록 하는 시스템들의 성능을 의미한다.
- 3초의 법칙: 3초 안에 사용자의 관심을 끌어야 한다.
  - **웹 사이트의 로딩이 빨라야 한다.** (웹 성능과 연관된 부분)
  - 웹 사이트의 머리말이 주목받을 수 있어야 한다.
  - 웹 페이지 글이 눈에 띄어야 한다.
  - 웹 페이지 내 사용자 행동이 필요한 부분은 명확히 전달해야 한다.

<br>

## 1.3 웹 성능 측정 방법

웹 성능에 영향을 주는 요소는 사용자 환경, 공급자 환경, 전달 환경 세 가지가 있다.

- 사용자 환경: 네트워크 장비, 브라우저 등
- 웹 사이트 공급자: DNS 네임 서버 응답 속도, 서버 응답 속도, 백엔드 처리 속도, 프론트엔드 최적화 여부
- 전달 환경

웹 성능을 측정할 수 있는 대표적인 서비스들은 다음과 같다.

- 크롬 개발자 도구
- WebPageTest
- 구글 PageSpeed

<br>

## 1.4 웹 성능을 만드는 지표

스티브 사우더스는 14가지 웹 성능 최적화 기법을 백엔드, 프론트엔드, 네트워크 기술로 나누었다.

|   최적화   | 내용                                                                                                                                                                                                                                            |
| :--------: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|   백엔드   | 1. Expiers 헤더를 추가한다.<br />2. gzip으로 압축한다.<br />3. 페이지 재전송을 피한다.<br />4. ETag를 설정한다.<br />5. 캐시를 지원하는 AJAX를 만든다.                                                                                          |
| 프론트엔드 | 1. HTTP 요청을 줄인다.<br />2. 스타일 시트는 상단에 넣는다.<br />3. 스크립트는 하단에 넣는다. <br />4. CSS표현식은 피한다.<br />5. 자바스크립트와 CSS는 외부 파일에 넣는다.<br />6. 자바스크립트는 작게 한다.<br />7. 중복 스크립트는 제거한다. |
|  네트워크  | 1. CDN을 사용한다.<br />2. DNS 조회를 줄인다.                                                                                                                                                                                                   |

- 프론트엔드(사용자 환경)의 가장 큰 목적은 빠르고 보기 쉽게 콘텐츠를 전달하는 것이다.
- 백엔드를 제외한 프론트엔드 및 기타에서 로딩 시간의 대부분이 소요된다.

<br>

## 1.5 웹 성능과 프론트엔드

프론트엔드가 로딩 시간의 대부분을 차지하는 이유는 다음과 같다.

- 웹 서버가 아닌 브라우저 관점에서 콘텐츠를 전달 받았는지가 웹 성능의 기준이기 때문이다.
- 사용자가 웹 서비스와 상호 작용해 원하는 콘텐츠를 가져다 렌더링 하는데 시간이 더 소요된다.

### 1.5.1 브라우저 렌더링

PageSpeed의 렌더링 단계별 지표는 다음과 같다.

- FCP(First Contentful Paint): 첫 번째 텍스트 또는 이미시가 표시되는 데 걸린 시간이다.
- SI(Speed Index): 페이지 컨텐츠가 얼마나 빨리 표시되는지에 대한 정보다.
- LCP(Largest Contentful Paint): 가장 큰 텍스트 또는 이미지가 표시된 시간이다.
- TTI(Time to Interactive): 사용자와 페이지가 상호작용할 수 있게 된 시간이다.
- TBT(Total Blocking Time): FCP와 TTI사이 모든 시간의 합이다.
- CLS(Cumulative Layout Shift): 표시영역 안에 보이는 요소들이 얼마나 이동하는지에 대한 정보다.

<br>

## 1.6 웹 성능 예산

- 웹 성능 예산이란 웹 성능에 영향을 미치는 다양한 요소를 제어하는 한곗값을 의미한다.
- 3가지로 분류할 수 있다.
  - 정량 기반 지표(파일 크기): 폰트 파일 개수, 스크립트 개수 등 필요한 요소들에 대한 한곗값이다.
  - 시간 기반 지표(전체 로딩 시간): FCP, TTI 등 웹 성능 이벤트 값을 측정해 목표치를 설정한다.
  - 규칙 기반 지표(성능 점수): 웹 성능 지표 평가 점수 목표치를 설정한다.
